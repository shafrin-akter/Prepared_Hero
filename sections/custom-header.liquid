
{% liquid
  assign menus = section.settings.menu.links
 
%}
<div class="headerSection">
  <div class="container">
    <div class="logo">
      <img src="{{ 'ta_logo.png' | asset_url }}" alt="Logo">
    </div>

    
    <nav>
      <ul class="menuPart">
        {% for menu in menus %}
          
          
          {% if menu.links != blank %}
            <li>
              <div class="menuItem dropdown poppins-regular">
                <span class="poppins-regular {% if menu.levels > 0 %} shop {% endif %}">{{ menu.title }}  {{- 'icon-caret.svg' | inline_asset_content -}} </span>

                {% if menu.levels == 1 %} 
                     <ul class="dropdown">
            {% for child in menu.links %}
            {% assign collection = collections[child.handle] %}
    
            <li class="dropdownItem">
       
          {% if collection.image != blank %}
          <img src="{{ collection.image | img_url: 'medium' }}" alt="{{ collection.title }}">
          {% elsif collection.products.first.featured_image %}
            
              
           <img src="{{ collection.products.first.featured_image | img_url: 'medium' }}" alt="{{ collection.products.first.title }}">

           
      {% endif %}
      <a 
        class="childItem dropdowntext poppins-regular {% if child.active %} active {% endif %}" 
        href="{{ child.url }}">
        {{ child.title }}
      </a>
      

    
    </li>
  {% endfor %}
</ul>

                {% elsif  menu.levels == 2 %} 
                      <div class=" megamenu ">
                       
                      {% for child in menu.links %}
                         <div class="megamenuItem">
                          <h3 
                            class="childItem poppins-regular {% if child.active %} active {% endif %} poppins-regular">
                            {{ child.title }}
                          </h3>
                           <div class="megalist">
                             {% for grandchild in child.links %}
                               {% assign product_check = all_products[grandchild.handle] %}
                               {% if product_check %}

                                 <a 
                                  class="childItem poppins-regular {% if grandchild.active %} active {% endif %} poppins-regular" 
                                  href="{{ grandchild.url }}">
                                   <img src="{{ product_check.featured_image | img_url:'small' }}" alt="{{ product_check.title  }}">
                                  {{ grandchild.title }}
                                </a>

                                 {% else %}
                                 <a 
                                  class="childItem poppins-regular {% if grandchild.active %} active {% endif %} poppins-regular" 
                                  href="{{ grandchild.url }}">
                                  {{ grandchild.title }}
                                </a>
                               {% endif %}
                                
                             {% endfor %}
                           </div>
                        </div>
                      {% endfor %}
                    </div>
                  {% endif %}
                
              </div>
            </li>
            
          {% else %}
          <li>
            <a 
              class="menuItem {% if menu.active %} active {% endif %} poppins-regular" 
              href="{{ menu.url }}">{{ menu.title }}
            </a>
          </li>
          {% endif %}
        {% endfor %}
       
      </ul>
    </nav>
    <div class="cart">
      <img src="{{ 'ta_cart.png' | asset_url }}" alt="cart">
      <img src="{{ 'ta_search_icon-icon.png' | asset_url }}" alt="search">
    </div>
  </div>
</div>
{% schema %}
  {
    "name": "Custom Header",
    "settings": [
      {
        "type": "link_list",
        "id": "menu",
        "label": "Menu"
      }
    ]
  }
{% endschema %}
<style>
  
.container{
    max-width:1300px;
    width:100%;
    margin:0 auto;
    position:relative;
     display: flex;
    justify-content: center;
    align-items: center;
   box-shadow: 0 4px 5px 1px #0000001a;
    
  }
nav{
  width:50%;
  display: flex;
  justify-content: center;
}
.logo{
      width: 30%;
    display: flex;
    justify-content: center;
}
.logo img{
  width: 256px;
  display: block;
}
.cart {
    width: 20%;
    display: flex;
    justify-content: center;
    gap: 25px;
    align-items: center;
}
.cart img {
  width: 25px;
}
 nav .menuPart {
    display: flex;
    list-style: none;
    gap: 10px;
    justify-content: center;
}
nav .menuPart .menuItem{
  text-decoration:none;
  color:#000;
  display:block;
  padding:5px 10px;
  border-radius: 10px;
}
nav .menuPart .menuItem.active{
  background-color:;
  color:#d70000;
  
 
}
.shop{
  cursor: not-allowed;
}
.menuItem.dropdown{
  /* position: relative; */
}
.menuItem.dropdown .dropdown{
  list-style:none;
}
.menuItem.dropdown svg{
  width:14px;
  transform: rotate(0deg);
   transition-duration:0.4s;
  
}
.menuItem.dropdown:hover svg{
  transform: rotate(180deg);
}
.menuItem.dropdown .dropdown {
    list-style: none;
    width: 100%;
    position: absolute;
    transform: translateY(20px);
    opacity: 0;
    transition-duration:0.4s;
    box-shadow: 0 4px 5px 1px #0000001a;
    border-top: 1px solid #f1f1f1;
    left:0;
    background-color: #fff;
    display:flex;
    gap: 50px;
    justify-content: center;
    padding: 35px 0;
      margin: 19px 0;
}
.dropdownItem  {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}
.menuItem.dropdown .dropdownItem img {
    width: 150px;
    margin: 0 auto;
    display: block;
  border-radius: 10px;
  
   
}
.dropdowntext{
  font-size:22px;
  font-weight:500;
}
.menuItem.dropdown .megamenu {
    list-style: none;
    min-width: 300px;
    width: 100%;
    margin: 10px;
    position: absolute;
    transform: translateY(20px);
    opacity: 0;
    transition-duration:0.4s;
    left: 0;
    display:flex;
    flex-wrap:wrap;
}
.megamenuItem{
  flex-basis:33.33%;
}
.menuItem.dropdown:hover .dropdown, .menuItem.dropdown:hover .megamenuItem {
   transform: translateY(0px);
    opacity: 1;
}
.menuItem.dropdown .childItem {
    color: #000;
    text-decoration: none;
}
.menuItem.dropdown:hover .dropdown .childItem:hover{}

</style>